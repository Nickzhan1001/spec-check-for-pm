---
description: 終端僅用 PowerShell；禁止 bash/zsh/cmd 語法
alwaysApply: true
---

# 終端僅用 PowerShell 規則

撰寫或執行 PowerShell 指令前，**請先使用**專案技能 **`.agents/skills/powershell-windows`**，並依其內容處理 Windows PowerShell 語法、陷阱與錯誤處理。

所有終端指令必須以 **PowerShell** 語法為準，禁止使用 bash/zsh 語法。

禁止用法（範例）：

- `2>&1`（bash 錯誤導向寫法）
- `&&`、`||`（bash 條件執行）
- `| tee`（bash 同時輸出與存檔）
- 其他 bash/zsh 專用語法

請改用 PowerShell 寫法：

- 錯誤導向：`*>&1`、`RedirectStandardError`、`Out-File` 等
- 前一個成功才執行下一個：`; if ($LASTEXITCODE -eq 0) { ... }` 或 PowerShell 7+ 的 `&&`
- 同時輸出與存檔：`Tee-Object`（或 `tee` 在 PowerShell 為 Tee-Object 的別名）

本規則適用於：Chat、Agent、任何會執行終端指令的情境。
